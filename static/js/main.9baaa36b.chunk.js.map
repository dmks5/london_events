{"version":3,"sources":["App.js","index.js"],"names":["EventCard","_ref","_event$Отменено","event","isCancelled","toLowerCase","reason","React","createElement","Card","sx","mb","bgcolor","color","Box","display","justifyContent","p","Typography","fontWeight","textTransform","Тип","variant","component","Дата","CardContent","Описание","Link","href","target","App","Component","constructor","super","this","state","data","componentDidMount","readRemoteFile","complete","results","jsonData","convertArrayToJSON","sortedFilteredData","sortAndFilterEvents","setState","array","headers","slice","map","row","obj","forEach","header","index","events","currentDate","Date","setHours","dateObject","split","reverse","join","filter","sort","a","b","render","key","theme","createTheme","ReactDOM","createRoot","document","getElementById","ThemeProvider"],"mappings":"sQA2DA,MAAMA,EAAYC,IAAe,IAAAC,EAAA,IAAdC,MAAEA,GAAOF,EAC1B,MAAMG,EAAoD,kBAApB,QAAlBF,EAAAC,EAAM,4DAAY,IAAAD,OAAA,EAAlBA,EAAoBG,eAClCC,EAASH,EAAM,oFAAqB,+UAE1C,OACEI,IAAAC,cAACC,IAAI,CAACC,GAAI,CACRC,GAAI,KACAP,GAAe,CACjBQ,QAAS,cACTC,MAAO,wBAGTN,IAAAC,cAACM,IAAG,CAACJ,GAAI,CAAEK,QAAS,OAAQC,eAAgB,gBAAiBC,EAAG,EAAGL,QAAS,qBAC1EL,IAAAC,cAACU,IAAU,CAACR,GAAI,CAAES,WAAY,OAAQC,cAAe,eAClDjB,EAAMkB,oBAAO,qDAEhBd,IAAAC,cAACU,IAAU,CAACI,QAAQ,QAAQC,UAAU,KACnCpB,EAAMqB,2BAGXjB,IAAAC,cAACiB,IAAW,KACVlB,IAAAC,cAACU,IAAU,CAACL,MAAM,iBACfV,EAAMuB,kDAAY,uEAErBnB,IAAAC,cAACU,IAAU,CAACI,QAAQ,QAAQC,UAAU,KAAI,mCAChCpB,EAAM,oFAAqBI,IAAAC,cAACmB,IAAI,CAACC,KAAMzB,EAAM,oFAAoB0B,OAAO,UAAU1B,EAAM,mHAAkC,oFAEnIC,GACCG,IAAAC,cAACU,IAAU,CAACL,MAAM,QAAQS,QAAQ,SAAQ,qDAC7BhB,MAQRwB,MA3Ff,cAAkBC,YAChBC,cACEC,QACAC,KAAKC,MAAQ,CACXC,KAAM,IAIVC,oBACEC,YAAe,mKAAoK,CACjLC,SAAWC,IACT,MAAMC,EAAWP,KAAKQ,mBAAmBF,EAAQJ,MAC3CO,EAAqBT,KAAKU,oBAAoBH,GACpDP,KAAKW,SAAS,CAAET,KAAMO,OAK5BD,mBAAmBI,GACjB,MAAMC,EAAUD,EAAM,GAEtB,OADaA,EAAME,MAAM,GACbC,IAAIC,IACd,IAAIC,EAAM,GAIV,OAHAJ,EAAQK,QAAQ,CAACC,EAAQC,KACvBH,EAAIE,GAAUH,EAAII,KAEbH,IAIXP,oBAAoBW,GAClB,MAAMC,EAAc,IAAIC,KAGxB,OAFAD,EAAYE,SAAS,EAAG,EAAG,EAAG,GAEvBH,EACJN,IAAI9C,IAAK,IACLA,EACHwD,WAAY,IAAIF,KAAKtD,EAAM,4BAAQyD,MAAM,KAAK,GAAGA,MAAM,KAAKC,UAAUC,KAAK,KAAO,IAAM3D,EAAM,4BAAQyD,MAAM,KAAK,OAElHG,OAAO5D,GAASA,EAAMwD,YAAcH,GACpCQ,KAAK,CAACC,EAAGC,IAAMD,EAAEN,WAAaO,EAAEP,YAGrCQ,SACE,OACE5D,IAAAC,cAACM,IAAG,CAACJ,GAAI,CAAEO,EAAG,IACXiB,KAAKC,MAAMC,KAAKa,IAAI,CAAC9C,EAAOmD,IAC3B/C,IAAAC,cAACR,EAAS,CAACoE,IAAKd,EAAOnD,MAAOA,QC/CxC,MAAMkE,EAAQC,YAAY,IAIbC,IAASC,WAAWC,SAASC,eAAe,SACpDP,OACH5D,IAAAC,cAACmE,IAAa,CAACN,MAAOA,GACpB9D,IAAAC,cAACsB,EAAG","file":"static/js/main.9baaa36b.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport { readRemoteFile } from 'react-papaparse';\nimport { Card, CardContent, Typography, Link, Box } from '@mui/material';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      data: [],\n    };\n  }\n\n  componentDidMount() {\n    readRemoteFile('https://docs.google.com/spreadsheets/d/e/2PACX-1vTPva1TqjJb1q71rdIyiL8kCTg1ErWP8OWYJQqDLWZhNPP43EechxS7r7mOzKL43En-FHBx0Ql0J0Lp/pub?gid=0&single=true&output=csv', {\n      complete: (results) => {\n        const jsonData = this.convertArrayToJSON(results.data);\n        const sortedFilteredData = this.sortAndFilterEvents(jsonData);\n        this.setState({ data: sortedFilteredData });\n      },\n    });\n  }\n\n  convertArrayToJSON(array) {\n    const headers = array[0];\n    const data = array.slice(1);\n    return data.map(row => {\n      let obj = {};\n      headers.forEach((header, index) => {\n        obj[header] = row[index];\n      });\n      return obj;\n    });\n  }\n\n  sortAndFilterEvents(events) {\n    const currentDate = new Date();\n    currentDate.setHours(0, 0, 0, 0);\n\n    return events\n      .map(event => ({\n        ...event,\n        dateObject: new Date(event['Дата'].split(' ')[0].split('/').reverse().join('-') + 'T' + event['Дата'].split(' ')[1])\n      }))\n      .filter(event => event.dateObject >= currentDate)\n      .sort((a, b) => a.dateObject - b.dateObject);\n  }\n\n  render() {\n    return (\n      <Box sx={{ p: 2 }}>\n        {this.state.data.map((event, index) => (\n          <EventCard key={index} event={event} />\n        ))}\n      </Box>\n    );\n  }\n}\n\nconst EventCard = ({ event }) => {\n  const isCancelled = event['Отменено?']?.toLowerCase() === 'да';\n  const reason = event['Причина отмены'] || 'Я - Катя и я пиздец ленивая, потому причины отмены сегодня не будет';\n\n  return (\n    <Card sx={{\n      mb: 2,\n      ...(isCancelled && {\n        bgcolor: 'error.light',\n        color: 'error.contrastText',\n      }),\n    }}>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', p: 2, bgcolor: 'background.paper' }}>\n        <Typography sx={{ fontWeight: 'bold', textTransform: 'capitalize' }}>\n          {event.Тип || 'Не указан'}\n        </Typography>\n        <Typography variant=\"body2\" component=\"p\">\n          {event.Дата}\n        </Typography>\n      </Box>\n      <CardContent>\n        <Typography color=\"textSecondary\">\n          {event.Описание || 'Нет описания'}\n        </Typography>\n        <Typography variant=\"body2\" component=\"p\">\n          Адрес: {event['Ссылка на карту'] ? <Link href={event['Ссылка на карту']} target=\"_blank\">{event['Адрес по-человечески']}</Link> : 'Адрес не указан'}\n        </Typography>\n        {isCancelled && (\n          <Typography color=\"error\" variant=\"body2\">\n            Отменено: {reason}\n          </Typography>\n        )}\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport App from './App';\n\nconst theme = createTheme({\n  // здесь можете настроить тему, если нужно\n});\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <ThemeProvider theme={theme}>\n    <App />\n  </ThemeProvider>\n);\n"],"sourceRoot":""}