{"version":3,"sources":["App.js","index.js"],"names":["daysOfWeek","EventCard","_ref","_event$Отменено","event","isCancelled","toLowerCase","reason","React","createElement","Card","sx","mb","bgcolor","color","Box","display","justifyContent","alignItems","p","flexDirection","Typography","fontWeight","textTransform","Тип","variant","component","concat","dayOfWeek","displayTime","CardContent","Описание","Link","href","target","App","Component","constructor","super","this","state","data","componentDidMount","readRemoteFile","complete","results","jsonData","convertArrayToJSON","sortedFilteredData","sortAndFilterEvents","setState","array","headers","slice","map","row","obj","forEach","header","index","events","currentDate","Date","setHours","dateParts","split","reverse","timeParts","date","dateObject","getDay","length","filter","sort","a","b","render","key","theme","createTheme","ReactDOM","createRoot","document","getElementById","ThemeProvider"],"mappings":"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","file":"static/js/main.52e3c72a.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport { readRemoteFile } from 'react-papaparse';\nimport { Card, CardContent, Typography, Link, Box } from '@mui/material';\n\nconst daysOfWeek = ['Воскресенье', 'Понедельник', 'Вторник', 'Среда', 'Четверг', 'Пятница', 'Суббота'];\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      data: [],\n    };\n  }\n\n  componentDidMount() {\n    readRemoteFile('https://docs.google.com/spreadsheets/d/e/2PACX-1vTPva1TqjJb1q71rdIyiL8kCTg1ErWP8OWYJQqDLWZhNPP43EechxS7r7mOzKL43En-FHBx0Ql0J0Lp/pub?gid=0&single=true&output=csv', {\n      complete: (results) => {\n        const jsonData = this.convertArrayToJSON(results.data);\n        const sortedFilteredData = this.sortAndFilterEvents(jsonData);\n        this.setState({ data: sortedFilteredData });\n      },\n    });\n  }\n\n  convertArrayToJSON(array) {\n    const headers = array[0];\n    const data = array.slice(1);\n    return data.map(row => {\n      let obj = {};\n      headers.forEach((header, index) => {\n        obj[header] = row[index] || '';\n      });\n      return obj;\n    });\n  }\n\n  sortAndFilterEvents(events) {\n    const currentDate = new Date();\n    currentDate.setHours(0, 0, 0, 0);\n\n    return events\n      .map(event => {\n        const dateParts = event['Дата'].split('/').reverse();\n        const timeParts = event['Время'].split(':');\n        const date = new Date(dateParts[0], dateParts[1] - 1, dateParts[2]);\n        date.setHours(timeParts[0], timeParts[1], timeParts[2] || 0);\n\n        return {\n          ...event,\n          dateObject: date,\n          dayOfWeek: daysOfWeek[date.getDay()],\n          displayTime: timeParts.length > 1 ? `${timeParts[0]}:${timeParts[1]}` : event['Время']\n        };\n      })\n      .filter(event => event.dateObject >= currentDate)\n      .sort((a, b) => a.dateObject - b.dateObject);\n  }\n\n  render() {\n    return (\n      <Box sx={{ p: 2 }}>\n        {this.state.data.map((event, index) => (\n          <EventCard key={index} event={event} />\n        ))}\n      </Box>\n    );\n  }\n}\n\nconst EventCard = ({ event }) => {\n  const isCancelled = event['Отменено?']?.toLowerCase() === 'да';\n  const reason = event['Причина отмены'] || 'Я - Катя и я пиздец ленивая, потому причины отмены сегодня не будет';\n\n  return (\n    <Card sx={{\n      mb: 2,\n      ...(isCancelled && {\n        bgcolor: 'error.light',\n        color: 'error.contrastText',\n      }),\n    }}>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', p: 2, bgcolor: 'background.paper' }}>\n        <Box sx={{ display: 'flex', flexDirection: 'column' }}>\n          <Typography sx={{ fontWeight: 'bold', textTransform: 'capitalize' }}>\n            {event.Тип || 'Не указан'}\n          </Typography>\n          <Typography variant=\"body2\" component=\"p\">\n            {`${event['Дата']}, ${event.dayOfWeek}, ${event.displayTime}`}\n          </Typography>\n        </Box>\n      </Box>\n      <CardContent>\n        <Typography color=\"textSecondary\">\n          {event.Описание || 'Нет описания'}\n        </Typography>\n        <Typography variant=\"body2\" component=\"p\">\n          Адрес: {event['Ссылка на карту'] ? <Link href={event['Ссылка на карту']} target=\"_blank\">{event['Адрес по-человечески']}</Link> : 'Адрес не указан'}\n        </Typography>\n        {isCancelled && (\n          <Typography color=\"error\" variant=\"body2\">\n            Отменено: {reason}\n          </Typography>\n        )}\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport App from './App';\n\nconst theme = createTheme({\n  // здесь можете настроить тему, если нужно\n});\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <ThemeProvider theme={theme}>\n    <App />\n  </ThemeProvider>\n);\n"],"sourceRoot":""}